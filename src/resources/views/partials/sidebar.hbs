<div class="sidebar">
  <a class="header-name" href="#">WhyhSo.</a>
  <input type="hidden" id="title" value="{{ title }}" />
  <ul class="nav-links">
    <div>
      <li>
        <a href="/">
          <i class="bx bx-home"></i>
          <span class="link-name">Home</span>
        </a>
      </li>
      <li id="profile">
        <a href="/profile" >
          <i class="bx bx-user"></i>
          <span class="link-name">User</span>
        </a>
      </li>
      <li>
        <a href="/finance">
          <i class="bx bx-notepad"></i>
          <span class="link-name">Finance</span>
        </a>
      </li>
      {{#if (compare user.role 0)}}
        <li>
          <a href="/control">
            <i class="bx bx-cog"></i>
            <span class="link-name">Control</span>
          </a>
        </li>
      {{/if}}

    </div>

    <div>
      <div class="toggle">
        <i class="bx bx-chevron-left"></i>
      </div>
    </div>
  </ul>
</div>

<script>
  const sidebar = document.querySelector('.sidebar'); 
  const sidebarBtn = document.querySelector('.toggle');
  sidebarBtn.addEventListener('click', () => {
  sidebar.classList.toggle('closes'); });

  const navLinks = document.querySelectorAll('li');
  {{!-- navLinks.forEach(navLink => {
    navLink.addEventListener('click', event => {
      // Lấy thẻ cha gần nhất của thẻ li
      const navLink = event.target.closest('li');
      if (navLink) {
        navLinks.forEach(item => {
          item.classList.remove('active');
        });
        navLink.classList.add('active');
      }
    })
  }) --}}

  const title = document.querySelector('#title').value; 

  if ( title == 'Home' ) {
    navLinks[0].classList.add('active');
  } 
  if ( title == 'Profile' ) {
    navLinks[1].classList.add('active');
  }
  if ( title == 'Finance' ) {
    navLinks[2].classList.add('active');
  }
  if ( title == 'Control' ) {
    navLinks[3].classList.add('active');
  }
</script>